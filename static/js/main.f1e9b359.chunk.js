(this.webpackJsonpvidly=this.webpackJsonpvidly||[]).push([[0],{77:function(e,t,a){e.exports=a(90)},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(72),c=a.n(r),i=(a(82),a(83),a(11)),m=a(4),o=function(){return n.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},n.createElement("div",{className:"container"},n.createElement(i.c,{className:"navbar-brand",to:"/"},"Vidly"),n.createElement("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"},n.createElement("span",{className:"navbar-toggler-icon"})),n.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavId"},n.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},n.createElement("li",{className:"nav-item"},n.createElement(i.c,{className:"nav-link",to:"/movies"},"Movies")),n.createElement("li",{className:"nav-item"},n.createElement(i.c,{className:"nav-link",to:"/customers"},"Customers")),n.createElement("li",{className:"nav-item"},n.createElement(i.c,{className:"nav-link",to:"/rentals"},"Rentals")),n.createElement("li",{className:"nav-item"},n.createElement(i.c,{className:"nav-link",to:"/login"},"Login")),n.createElement("li",{className:"nav-item"},n.createElement(i.c,{className:"nav-link",to:"/register"},"Register"))))))},s=a(63),u=a(69),d=a(22),b=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z"},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5}];var f=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];var E=a(34),v=a.n(E),p=function(e){var t=e.count,a="There are no movie in database.";return 1===t?a="There are 1 movie in database.":t>1&&(a="There are ".concat(t," movies in database.")),l.a.createElement("span",{className:"alert d-block ".concat(t?"alert-success":"alert-danger")},a)},g=function(e){var t=e.movieID,a=e.isLiked,l=e.likeHandler;return n.createElement("span",{style:{cursor:"pointer",fontSize:19},onClick:function(){return l(t)}},a?n.createElement("i",{className:"fa fa-heart text-danger","aria-hidden":"true"}):n.createElement("i",{className:"fa fa-heart-o text-danger","aria-hidden":"true"}))},h=function(e){var t=e.data,a=e.onDelete,n=e.onLike,r=e.onSort,c=t.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,l.a.createElement(i.b,{to:"/movies/".concat(e._id)}," ",e.title)),l.a.createElement("td",null,e.genre.name),l.a.createElement("td",null,e.dailyRentalRate),l.a.createElement("td",null,e.numberInStock),l.a.createElement("td",null,l.a.createElement(g,{movieID:e._id,isLiked:e.isLiked,likeHandler:n})),l.a.createElement("td",null,l.a.createElement("button",{className:"btn  btn-outline-danger btn-sm text-center",onClick:function(){return a(e._id)}},l.a.createElement("i",{style:{fontSize:17},className:"fa fa-trash-o","aria-hidden":"true"}))))}));return l.a.createElement("table",{className:"table w-100 ".concat(0===t.length?"d-none":"")},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{onClick:function(){return r("title")}},"Title"),l.a.createElement("th",{onClick:function(){return r("genre.name")}},"Genre"),l.a.createElement("th",{onClick:function(){return r("dailyRentalRate")}},"Rating"),l.a.createElement("th",{onClick:function(){return r("numberInStock")}},"Stock"),l.a.createElement("th",null,"Like"),l.a.createElement("th",null,"Take-Action"))),l.a.createElement("tbody",null,c))},y=function(e){var t=Math.ceil(e.itemCount/e.pageSize);if(1===t)return null;var a=v.a.range(1,t+1);return n.createElement("nav",{"aria-label":"Page navigation"},n.createElement("ul",{className:"pagination"},a.map((function(t){return n.createElement("li",{key:t,className:"page-item ".concat(t===e.currentPage?"active":"")},n.createElement("button",{className:"page-link",onClick:function(){return e.onPageChange(t)}},t))}))))};var k=function(e){var t=e.data,a=e.selectedItem,l=e.onItemSelect;return n.createElement("ul",{className:"list-group"},t.map((function(e){return n.createElement("li",{key:e._id,className:"list-group-item ".concat(a===e?"active":""),onClick:function(){return l(e)}},e.name)})))},N=function(e){return n.createElement("div",{className:"form-group"},n.createElement("input",{className:"form-control",type:"search",name:"searchBox",value:e.searchQuery,placeholder:"Search...",onChange:function(t){return e.onChangeHandler(t.currentTarget.value)}}))},S=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),m=Object(d.a)(c,2),o=m[0],E=m[1],g=Object(n.useState)({_id:"",name:""}),S=Object(d.a)(g,2),R=S[0],_=S[1],I=Object(n.useState)(4),C=Object(d.a)(I,1)[0],x=Object(n.useState)(1),O=Object(d.a)(x,2),j=O[0],w=O[1],T=Object(n.useState)({path:"title",order:"asc"}),L=Object(d.a)(T,2),q=L[0],P=L[1],A=Object(n.useState)(""),D=Object(d.a)(A,2),G=D[0],F=D[1];Object(n.useEffect)((function(){var e=b,t=[{_id:"",name:"All Genres"}].concat(Object(u.a)(f.filter((function(e){return e})))),a=e.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLiked:!1})}));r(a),E(t)}),[]);var V=a;G?V=a.filter((function(e){return e.title.toLowerCase().startsWith(G.toLowerCase())})):R&&R._id&&a.filter((function(e){return e.genre._id===R._id}));var B=function(e,t,a){var n=(t-1)*a;return v()(e).slice(n).take(a).value()}(v.a.orderBy(V,[q.path],[q.order]),j,C);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-3"},l.a.createElement(k,{data:o,selectedItem:R,onItemSelect:function(e){_(e),F(""),w(1)}})),l.a.createElement("div",{className:"col"},l.a.createElement("button",{className:"btn btn-primary mb-2"},l.a.createElement(i.b,{style:{textDecoration:"none",color:"#fff"},to:"/movies/new"},"New Movie")),l.a.createElement(N,{searchQuery:G,onChangeHandler:function(e){F(e),_({_id:null,name:null}),w(1)}}),l.a.createElement("div",null,l.a.createElement(p,{count:a.length}),l.a.createElement(h,{data:B,onDelete:function(e){var t=a.filter((function(t){return t._id!==e}));r(t)},onLike:function(e){var t=Object(u.a)(a),n=t.findIndex((function(t){return t._id===e}));t[n].isLiked=!t[n].isLiked,r(t)},onSort:function(e){var t=Object(s.a)({},q);t.path===e?t.order="asc"===t.order?"desc":"asc":(t.path=e,t.order="asc"),P(t)}})),l.a.createElement(y,{itemCount:V.length,pageSize:C,currentPage:j,onPageChange:function(e){w(e)}}))))},R=function(){return n.createElement("h1",null,"Rentals")},_=function(){return n.createElement("h1",null,"Customers")},I=a(3),C=a(8),x=a(76),O=function(e){var t=e.label,a=Object(x.a)(e,["label"]),l=Object(I.e)(a),r=Object(d.a)(l,2),c=r[0],i=r[1],m=i.error&&i.touched?i.error:"";return n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"name"},t),n.createElement("input",{id:c.name,name:c.name,value:a.value,onChange:c.onChange,type:a.type,onBlur:c.onBlur,className:"form-control mb-2"}),""!==m?n.createElement("div",{className:"alert alert-danger"},m):null)},j=function(e){e.label;var t=e.name,a=e.option,l=e.touched,r=e.error,c=r&&l?r:"";return n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"selectItems"},"Select Genre"),n.createElement(I.b,{as:"select",name:t,id:"selectItems",className:"form-control"},a.map((function(e){return n.createElement("option",{key:e.key,value:e.value},e.key)}))),c?n.createElement("div",{className:"alert alert-danger mt-2"},n.createElement(I.a,{name:t})):null)},w=a(92),T=function(e){var t=e.history,a=[{key:"Select a Genre",value:""},{key:"Action",value:"Action"},{key:"Comedy",value:"Comedy"},{key:"Thriller",value:"Thriller"}],l=C.b({title:C.c().required().max(30),genre:C.b({name:C.c().required("Please select a genre")}),numberInStock:C.a().required().min(0).positive(),dailyRentalRate:C.a().required().min(0).max(10).positive()});return n.createElement("div",{className:"col-6 m-auto mt-4 py-2"},n.createElement("h1",{className:"text-center my-2"},"Movie Form"),n.createElement(I.d,{initialValues:{_id:"",title:"",genre:{_id:"",name:""},numberInStock:0,dailyRentalRate:0},validationSchema:l,onSubmit:function(e,a){!function(e){b.push(e)}({_id:Object(w.a)(),title:e.title,genre:{_id:Object(w.a)(),name:e.genre.name},numberInStock:e.numberInStock,dailyRentalRate:e.dailyRentalRate,publishDate:e.publishDate}),a.setSubmitting(!1),setTimeout((function(){t.replace("/movies")}),500)}},(function(e){e.values;var t,l,r=e.isValid,c=e.isSubmitting,i=e.touched,m=e.errors;return n.createElement(I.c,null,n.createElement(I.b,{label:"Title",name:"title",type:"text",as:O}),n.createElement(j,{label:"Select Genre",name:"genre.name",option:a,touched:null===(t=i.genre)||void 0===t?void 0:t.name,error:null===(l=m.genre)||void 0===l?void 0:l.name}),n.createElement(I.b,{label:"Number In Stock",name:"numberInStock",type:"number",as:O}),n.createElement(I.b,{label:"Rate",name:"dailyRentalRate",type:"number",as:O}),n.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!r||c},"Save"))})))},L=function(){return n.createElement("h1",null,"Page not found")},q=function(){var e=C.b({username:C.c().required("Username is Required").max(15),password:C.c().required("Password is Required").min(8).max(20)});return n.createElement("div",{className:"col-8 m-auto mt-4 py-2"},n.createElement("h1",null,"Login"),n.createElement(I.d,{initialValues:{username:"",password:""},onSubmit:function(e){console.log(e)},validationSchema:e},n.createElement(I.c,null,n.createElement(I.b,{label:"Username",type:"text",name:"username",as:O}),n.createElement(I.b,{label:"Password",type:"password",name:"password",as:O}),n.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))))},P=function(){var e=C.b({email:C.c().email().required("Email is required"),password:C.c().min(8).max(15).required("Password is required"),profileName:C.c().max(20).required("Please give your name")});return n.createElement("div",{className:"col-8 m-auto mt-4 py-2"},n.createElement("h1",null,"Register Form"),n.createElement(I.d,{initialValues:{email:"",password:"",profileName:""},validationSchema:e,onSubmit:function(e,t){console.log(e),t.setSubmitting(!1)}},(function(e){var t=e.isValid,a=e.isSubmitting;return n.createElement(I.c,null,n.createElement(I.b,{label:"Username",type:"email",name:"email",as:O}),n.createElement(I.b,{label:"Password",type:"password",name:"password",as:O}),n.createElement(I.b,{label:"Profile Name",type:"text",name:"profileName",as:O}),n.createElement("button",{className:"btn btn-success",type:"submit",disabled:!(t||a)},"Register"))})))},A=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement(o,null)),l.a.createElement("main",{className:"container"},l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/"},l.a.createElement(S,null)),l.a.createElement(m.b,{exact:!0,path:"/movies"},l.a.createElement(S,null)),l.a.createElement(m.b,{exact:!0,path:"/customers"},l.a.createElement(_,null)),l.a.createElement(m.b,{exact:!0,path:"/rentals"},l.a.createElement(R,null)),l.a.createElement(m.b,{exact:!0,path:"/movies/:id",component:T}),l.a.createElement(m.b,{exact:!0,path:"/login"},l.a.createElement(q,null)),l.a.createElement(m.b,{exact:!0,path:"/register"},l.a.createElement(P,null)),l.a.createElement(m.b,{path:"/not-found"},l.a.createElement(L,null)),l.a.createElement(m.a,{to:"/not-found"}))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,null,l.a.createElement(A,null))),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.f1e9b359.chunk.js.map